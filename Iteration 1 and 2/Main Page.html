<!DOCTYPE html>
<html lang="eng">

<head>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSP Main Page</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        * {box-sizing: border-box;}
        header {text-align: center;}
        nav {text-align: center;}
        .hidden {display: none;}
        #search {float: right;}
        
        .col-12 {
            width: 100%;
            float: left;
            padding: 10px;
        }

        .item {
            border: 1px solid black;
            width: 330px;
            height: 400px;
            text-align: center;
            margin: 10px;
        }

        .item img {
            width: 100%;
            height: 75%;
        }
    </style>
</head>

<body>
    <div id="search" class="hidden">
        <form id="order" action="Search.php" method="POST">
            Search Order ID: 
            <input type="text" id="order_id" name="order_id">
            <button type="submit">Submit</button>
        </form>
    </div>    
    <div class="row" style="width: 100%">
        <div class="col-12">
            <header><h1>OSP Main</h1></header>
            <nav>
                <a href="About Us.html">About Us</a> |
                <a href="#cart">Sign Up/ Sign In</a> |
                <a>Reviews</a> |
                <a href="#cart">Shopping Cart</a> |
                <a href="Services.html">Types of Services</a> |
                <button onclick="document.getElementById('search').style.display='block';">Search</button> |
                <button onclick="document.getElementById('sqlActions').style.display='inline';">DB Maintain</button>
                <form id="sqlActions" class="hidden" method="POST" action="SQL Forms.php">
                    <select name="actions" id="actions" onchange="document.getElementById('sqlActions').submit();">
                        <option value="insert">Select an Option</option>
                        <option value="insert">Insert</option>
                        <option value="delete">Delete</option>
                        <option value="update">Update</option>
                        <option value="select">Select</option>
                    </select>
                </form>
            </nav>
        </div>
    </div>
    <div class="row">
        <h2>Shop</h2>
        <div id="container1" class="col-12" style="border: 1px solid black; display: flex; flex-wrap: wrap;" ondrop="drop(event)" ondragover="allowDrop(event)">
            <div class="item tablets low" draggable="true" ondragstart="drag(event)" id="1">
                <img src="images/tablet2.jpg" draggable="false" alt="tablet">
                <p>iPad</p>
                <p>$100</p>
            </div>
            <div class="item laptops middle" draggable="true" ondragstart="drag(event)" id="2">
                <img src="images/laptop1.jpg" draggable="false" alt="laptop">
                <p>Huawei Laptop MateBook</p>
                <p>$900</p>
            </div>
            <div class="item laptops middle" draggable="true" ondragstart="drag(event)" id="3">
                <img src="images/laptop2.jpg" draggable="false" alt="laptop">
                <p>Microsoft Surface Laptop</p>
                <p>$270</p>
            </div>
            <div class="item tablets middle" draggable="true" ondragstart="drag(event)" id="4">
                <img src="images/tablet1.jpg" draggable="false" alt="tablet">
                <p>Samsung Tablet</p>
                <p>$110</p>
            </div>
            <div class="item phones high" draggable="true" ondragstart="drag(event)" id="5">
                <img src="images/phone1.jpg" draggable="false" alt="phone">
                <p>iPhone</p>
                <p>$400</p>
            </div>
            <div class="item audio high" draggable="true" ondragstart="drag(event)" id="6">
                <img src="images/sony headphones.jpg" draggable="false" alt="headphones">
                <p>Sony WH-1000XM5 Headphones</p>
                <p>$400</p>
            </div>
            <div class="item audio middle" draggable="true" ondragstart="drag(event)" id="7">
                <img src="images/sonos speaker.jpg" draggable="false" alt="speaker">
                <p>Sonos Era 100 Smart Speaker</p>
                <p>$250</p>
            </div>
            <div class="item phones high" draggable="true" ondragstart="drag(event)" id="8">
                <img src="images/google pixel.jpg" draggable="false" alt="phone">
                <p>Google Pixel 8a</p>
                <p>$600</p>
            </div>
        </div>
    </div>
    <div class="row">
        <h2 style="text-align: center;">Shopping Cart</h2>
        <div id="container2" class="col-12" style="display: flex; flex-wrap: wrap; border: 1px solid black;" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
    </div>
    <div class="row">
        <div class="col-12">
            <form id="cart" action="Invoice.php" method="POST">
                <input type="hidden" id="items" name="items">
                <input type="hidden" id="login" name="login">
                <button type="button" onclick="changeLogin('signUp')">Sign Up</button>
                <button type="button" onclick="changeLogin('signIn')">Sign In</button>
                <div id="signUp" class="hidden">
                    <label for="signUp_email">Email:</label><br>
                    <input type="text" id="signUp_email" name="signUp_email"><br>
                    <label for="delivery_address">Address:</label><br>
                    <input type="text" id="delivery_address" name="delivery_address"><br>
                    <label for="signUp_pwd">Password:</label><br>
                    <input type="password" id="signUp_pwd" name="signUp_pwd"><br>
                </div>
                <div id="signIn" class="hidden">
                    <label for="signIn_email">Email:</label><br>
                    <input type="text" id="signIn_email" name="signIn_email"><br>
                    <label for="signIn_pwd">Password:</label><br>
                    <input type="password" id="signIn_pwd" name="signIn_pwd"><br>
                </div><br>
                <label for="store">Select Store:</label>
                <select id="store" name="store">
                    <option value="1">Square One</option>
                    <option value="2">Yorkdale</option>
                </select><br>
                <button type="submit">Submit Cart</button>
            </form>
        </div>
    </div>

    <script>
        function allowDrop(ev) {
            ev.preventDefault();
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.id);
        }

        function drop(ev) {
            ev.preventDefault();
            data = ev.dataTransfer.getData("text");
            if (ev.target.id == "container1" || ev.target.id == "container2") {
                ev.target.appendChild(document.getElementById(data));
            }
            updateCart();
        }
        
        function updateCart() {
            items = document.getElementById("container2").children;
            itemID = [];
            for (i = 0; i < items.length; i++) {
                itemID.push(items[i].id);
            }
            document.getElementById("items").value = itemID.join();
        }

        function changeLogin(id) {
            if (id == 'signUp') {
                document.getElementById('signIn').style.display = "none";
                document.getElementById("login").value = "signUp";
            }  
            else if (id == 'signIn') {
                document.getElementById('signUp').style.display = "none";
                document.getElementById("login").value = "signIn";
            }
            document.getElementById(id).style.display = "block";
        }
    </script>
</body>
</html>
